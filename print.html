<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>wsh Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting-started/installing.html"><strong aria-hidden="true">1.1.</strong> Installing</a></li><li class="chapter-item expanded "><a href="getting-started/tour.html"><strong aria-hidden="true">1.2.</strong> A Tour of wsh</a></li></ol></li><li class="chapter-item expanded "><a href="using/index.html"><strong aria-hidden="true">2.</strong> Using the Shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using/running-commands.html"><strong aria-hidden="true">2.1.</strong> Running Commands</a></li><li class="chapter-item expanded "><a href="using/programming/index.html"><strong aria-hidden="true">2.2.</strong> Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using/programming/numbers.html"><strong aria-hidden="true">2.2.1.</strong> Numbers</a></li><li class="chapter-item expanded "><a href="using/programming/strings.html"><strong aria-hidden="true">2.2.2.</strong> Strings</a></li><li class="chapter-item expanded "><a href="using/programming/conditions.html"><strong aria-hidden="true">2.2.3.</strong> Conditions</a></li><li class="chapter-item expanded "><a href="using/programming/loops.html"><strong aria-hidden="true">2.2.4.</strong> Loops</a></li><li class="chapter-item expanded "><a href="using/programming/functions.html"><strong aria-hidden="true">2.2.5.</strong> Functions</a></li></ol></li><li class="chapter-item expanded "><a href="using/webassembly/index.html"><strong aria-hidden="true">2.3.</strong> WebAssembly</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using/webassembly/sandboxing.html"><strong aria-hidden="true">2.3.1.</strong> Sandboxing</a></li><li class="chapter-item expanded "><a href="using/webassembly/loading.html"><strong aria-hidden="true">2.3.2.</strong> Loading</a></li><li class="chapter-item expanded "><a href="using/webassembly/memfs.html"><strong aria-hidden="true">2.3.3.</strong> memfs</a></li><li class="chapter-item expanded "><a href="using/webassembly/linking.html"><strong aria-hidden="true">2.3.4.</strong> Linking</a></li></ol></li><li class="chapter-item expanded "><a href="using/environment.html"><strong aria-hidden="true">2.4.</strong> Environment</a></li><li class="chapter-item expanded "><a href="using/configuation.html"><strong aria-hidden="true">2.5.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="using/builtins.html"><strong aria-hidden="true">2.6.</strong> Built-ins</a></li></ol></li><li class="chapter-item expanded "><a href="posix-migration.html"><strong aria-hidden="true">3.</strong> POSIX Migration</a></li><li class="chapter-item expanded "><a href="status.html"><strong aria-hidden="true">4.</strong> Project Status</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">wsh Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/dzfrias/wsh/tree/main/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<blockquote>
<p>This book is <strong>not</strong> complete, so do not expect all chapters to be finished.</p>
</blockquote>
<p><code>wsh</code> is the <a href="https://webassembly.org/">WebAssembly</a>-based shell, bringing the
power of Wasm to the everyday programmer! This shell aims to be a comfortable
experience to those familiar with traditional shell languages, but provides a
powerful toolkit for interacting with programs in ways impossible before the
days of WebAssembly.</p>
<p>If you'd like a quick overview of <em>what</em> <code>wsh</code> allows you to do (and why), see
the <a href="https://github.com/dzfrias/wsh">GitHub repository</a>. <code>wsh</code> is compatible
with <strong>all</strong> major operating systems and architectures.</p>
<h2 id="sections"><a class="header" href="#sections">Sections</a></h2>
<p><a href="./getting-started/index.html"><strong>Getting Started</strong></a></p>
<p>A guide for installing and setting up the shell.</p>
<p><a href="./using/index.html"><strong>Using the Shell</strong></a></p>
<p>A complete and comprehensive look into the features of <code>wsh.</code></p>
<p><a href="./posix-migration.html"><strong>POSIX Migration</strong></a></p>
<p>A quick start for people who want to translate their
<a href="https://www.gnu.org/software/bash/">bash</a> or <a href="https://zsh.sourceforge.io/">zsh</a>
skills to <code>wsh</code>.</p>
<p><a href="./status.html"><strong>Project Status</strong></a></p>
<p>A page dedicated to the features that haven't landed in <code>wsh</code>, but are planned!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>To get started with <code>wsh</code>, install the binary and learn a little bit about the
shell language!</p>
<ul>
<li><a href="getting-started/./installing.html">Installation</a></li>
<li><a href="getting-started/./tour.html">A tour of wsh</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing"><a class="header" href="#installing">Installing</a></h1>
<p>Since this project is still in infancy (see <a href="getting-started/../status.html">Project Status</a>), the
best way to install <code>wsh</code> is through Rust's package manager,
<a href="https://doc.rust-lang.org/cargo/"><code>cargo</code></a>. In the future, more package
managers, along with pre-built binaries, will be supported.</p>
<p>After installing the binary, you may start it up <code>wsh</code>:</p>
<pre><code>$ wsh
Welcome to wsh, the WebAssembly shell!

~/code $
</code></pre>
<p><code>wsh</code> is compatible with <strong>all</strong> major operating systems and architectures.</p>
<h2 id="using-cargo"><a class="header" href="#using-cargo">Using <code>cargo</code></a></h2>
<p><code>wsh</code> can be installed using <code>cargo</code>, though <a href="https://crates.io/">crates.io</a>.
This will build the project using Rust. The minimum supported Rust version
(MSRV) is <strong>1.75.0</strong> (you can check with <code>rustc --version</code>. If you do not have
<code>cargo</code>, follow the instructions at
<a href="https://www.rust-lang.org/tools/install">this link</a>.</p>
<pre><code>$ cargo install wsh
...
</code></pre>
<h2 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h2>
<p>First, you can clone the repository, with:</p>
<pre><code>$ git clone https://github.com/dzfrias/wsh
$ cd wsh
</code></pre>
<p>Then, you can build the project with <code>cargo</code>. Make sure that you have version
<strong>1.75.0</strong> at least (you can check with <code>rustc --version</code>). There are <em>no</em>
external (non-Rust) dependencies needed. However, if you'd like to run the
testsuite, make sure to clone the submodules with <code>git submodule update --init</code>.</p>
<pre><code>$ cargo run --release
...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-tour-of-wsh"><a class="header" href="#a-tour-of-wsh">A Tour of wsh</a></h1>
<p>On a base level, <code>wsh</code> aims to be similar to
<a href="https://www.gnu.org/software/bash/">bash</a> and
<a href="https://zsh.sourceforge.io/">zsh</a>. Every-day usage will resemble the
aforementioned languages quite a bit. However, <code>wsh</code> differs a lot in its
<a href="getting-started/../using/programming/index.html">programmatic features</a>. <code>wsh</code> can resemble that
of a modern scripting language, if needed. You'll find that the control flow,
arithmetic, syntax, and semantics are much less arcane than the POSIX standard.</p>
<h2 id="the-base-usage"><a class="header" href="#the-base-usage">The base usage</a></h2>
<p>To get started, start up <code>wsh</code> and run the <code>cd</code> <a href="getting-started/../using/builtins.html">built-in</a>
to move to your home directory.</p>
<pre><code>$ cd
$ echo hi from wsh!
hi from wsh!
$ pwd
/Users/dzfrias
</code></pre>
<p>Piping, from POSIX-style shells, remains the same:</p>
<pre><code>$ echo "how many words here?" | wc -w
       4
</code></pre>
<p>Redirection is also present:</p>
<pre><code>$ echo "put this in a file" &gt; out.txt
$ echo "append this" &gt;&gt; out.txt
$ cat out.txt
put this in a file
append this
</code></pre>
<p>Capture the stdout of a command with backticks:</p>
<pre><code>$ cat `echo Cargo.toml`
...
</code></pre>
<p>Create an <a href="getting-started/../using/configuation.html">alias</a> with the <code>alias</code> key word:</p>
<pre><code>$ alias foo = echo I don't want to type this again
$ foo
I don't want to type this again
</code></pre>
<p>Hopefully, these tools are enough to get you started using <code>wsh</code>! See the
<a href="getting-started/../posix-migration.html">POSIX migration</a> chapter for some more differences
between <code>wsh</code> and traditional shells. You can read a more detailed dive into
running commands in <a href="getting-started/../using/running-commands.html">this chapter</a>.</p>
<h2 id="wsh-as-a-scripting-language"><a class="header" href="#wsh-as-a-scripting-language">wsh as a scripting language</a></h2>
<p>While a lot of the every-day usage experience will be similar to that of
traditional shells, <code>wsh</code> has a powerful escape hatch. You can use the <code>.</code>
character to escape to a language akin to a regular scripting language:</p>
<pre><code>$ .x = 10
$ echo .(x + 100 == 110)
true
$ echo .("string" + " concat")
string concat
$ # yes, there's type coersion
$ .(1 + "1")
2
</code></pre>
<p>For the full power of language, create a new file, <code>example.wsh</code>.</p>
<pre><code>echo hello from this script!
.var = 10
while var &gt; 0 do
  echo .var
  .var = var - 1
end

if var == 0 then
  echo BLAST OFF!
else
  echo basic math broke in the shell...
end
</code></pre>
<p>Run the script with the <code>source</code> <a href="getting-started/../using/builtins.html">built-in</a>.</p>
<pre><code>$ source example.wsh
hello from this script!
10
9
8
7
6
5
4
3
2
1
BLAST OFF!
</code></pre>
<p>You can read more about <code>wsh</code>'s programmatic capabilities in
<a href="getting-started/../using/programming/index.html">this chapter</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-the-shell"><a class="header" href="#using-the-shell">Using the Shell</a></h1>
<p>This section provides a detailed look into the features currently supported by
<code>wsh</code>.</p>
<ul>
<li><a href="using/./running-commands.html">Running Commands</a></li>
<li><a href="using/./programming/index.html">Programming</a>
<ul>
<li><a href="using/./programming/numbers.html">Numbers</a></li>
<li><a href="using/./programming/strings.html">Strings</a></li>
<li><a href="using/./programming/conditions.html">Conditions</a></li>
<li><a href="using/./programming/loops.html">Loops</a></li>
<li><a href="using/./programming/functions.html">Functions</a></li>
</ul>
</li>
<li><a href="using/./webassembly/index.html">WebAssembly</a>
<ul>
<li><a href="using/./webassembly/sandboxing.html">Sandboxing</a></li>
<li><a href="using/./webassembly/memfs.html">Loading</a></li>
<li><a href="using/./webassembly/memfs.html">memfs</a></li>
<li><a href="using/./webassembly/linking.html">Linking</a></li>
</ul>
</li>
<li><a href="using/./environment.html">Environment</a></li>
<li><a href="using/./configuation.html">Configuration</a></li>
<li><a href="using/./builtins.html">Built-ins</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-commands"><a class="header" href="#running-commands">Running Commands</a></h1>
<p>Running commands in <code>wsh</code> is similar to that of other shells, following the
<code>&lt;COMMAND&gt; &lt;ARGS&gt;...</code> standard.</p>
<pre><code>$ echo "Hello, World!"
Hello, World!
</code></pre>
<h2 id="piping"><a class="header" href="#piping">Piping</a></h2>
<p>Piping can be achieved with the <code>|</code> (pipe) token:</p>
<pre><code>$ echo pipe! | tee out.txt | xargs echo cool
cool pipe!
$ cat out.txt
pipe!
</code></pre>
<p>This will pipe stdout, <strong>not</strong> stderr. The stderr stream can easily be
redirected into stdout, if needed:</p>
<pre><code>$ cargo build %| wc -l
       1
</code></pre>
<blockquote>
<p>Note: <code>%|</code> in <code>wsh</code> is equivalent to <code>2&gt;&amp;1</code> in POSIX shells; see
<a href="using/../posix-migration.html">the migration guide</a> for similar discrepencies.</p>
</blockquote>
<h2 id="redirection"><a class="header" href="#redirection">Redirection</a></h2>
<p>You can redirect to different files with the <code>&gt;</code> and <code>&gt;&gt;</code> characters. <code>&gt;</code> will
create (or overwrite) a file and fill it with the received input. <code>&gt;&gt;</code> is the
same as <code>&gt;</code>, but will <strong>append</strong> to the file instead of overwriting it if it
already exists.</p>
<pre><code>$ echo hello &gt; out.txt
$ echo append &gt;&gt; out.txt
$ cat out.txt
hello
append
</code></pre>
<p>They can accept any expression on the right hand side (i.e.
<a href="using/./programming/strings.html">string concatenation</a>):</p>
<pre><code>$ echo important stuff &gt; .("hi" + ".txt")
</code></pre>
<p>Like the regular <a href="using/running-commands.html#piping">pipe</a> operator, you can use the <code>%</code> character to
redirect stderr along with stdout:</p>
<pre><code>$ cargo build %&gt; cargo_out.txt
$ cargo build %&gt;&gt; cargo_out.txt
</code></pre>
<blockquote>
<p>Note: Unlike POSIX shells, redirect symbols <strong>must</strong> terminate a pipeline. For
example, the parser will not succeed with:</p>
<pre><code>echo hello &gt; out | cat
</code></pre>
</blockquote>
<h2 id="output-capture"><a class="header" href="#output-capture">Output capture</a></h2>
<p>You can use backticks to capture a command result into a
<a href="using/./programming/strings.html">string</a>:</p>
<pre><code>$ .x = `cat large_file.txt`
$ .x
...
</code></pre>
<p>The above example uses variable <a href="using/./programming/assignment.html">assignment</a>.</p>
<h2 id="status-codes"><a class="header" href="#status-codes">Status codes</a></h2>
<p>You can get the exit status of any command using the <code>?</code> character. This will be
stored as a <a href="using/./programming/numbers.html">number</a>.</p>
<pre><code>$ msityped
wsh: command not found: msityped
$ echo .? .(? + 100)
127 227
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming"><a class="header" href="#programming">Programming</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="numbers"><a class="header" href="#numbers">Numbers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings"><a class="header" href="#strings">Strings</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conditions"><a class="header" href="#conditions">Conditions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="loops"><a class="header" href="#loops">Loops</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="webassembly"><a class="header" href="#webassembly">WebAssembly</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sandboxing"><a class="header" href="#sandboxing">Sandboxing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="loading"><a class="header" href="#loading">Loading</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memfs"><a class="header" href="#memfs">memfs</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linking"><a class="header" href="#linking">Linking</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="environment"><a class="header" href="#environment">Environment</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>Configuration in <code>wsh</code> is largely done through the <code>.wshrc</code> file. This file will
be executed on startup! <code>.wshrc</code> has different locations depending on your
operating system, for example:</p>
<div class="table-wrapper"><table><thead><tr><th>Linux</th><th>macOS</th><th>Windows</th></tr></thead><tbody>
<tr><td><code>/home/dzfrias/.wshrc</code></td><td><code>/Users/dzfrias/.wshrc</code></td><td><code>C:\Users\dzfrias\.wshrc</code></td></tr>
</tbody></table>
</div>
<p>Make sure to replaced <code>dzfrias</code> with your machine's name. If the file does not
already exist, feel free to just create it at that location! There are three
main things to put in a config file:</p>
<ol>
<li><a href="using/configuation.html#aliases">Aliases</a></li>
<li><a href="using/configuation.html#functions">Functions</a></li>
<li><a href="using/configuation.html#environment-variables">Environment variables</a></li>
</ol>
<h2 id="aliases"><a class="header" href="#aliases">Aliases</a></h2>
<p>Aliases allow you to set up custom names for <a href="using/./running-commands.html">commands</a>
and their arguments. For example, here are two aliases for <code>echo</code>:</p>
<pre><code>alias foo = echo
alias bar = echo hello world
</code></pre>
<p>Now, when in the shell,</p>
<pre><code>$ foo nice
nice
$ bar
hello world
</code></pre>
<p>Make sure to restart the shell when a change to the <code>.wshrc</code> file is made!
Aliases can also represent pipelines:</p>
<pre><code>alias long = echo hello world | wc -w | xargs word count:
</code></pre>
<pre><code>$ long
word count: 2
</code></pre>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<p><strong><a href="using/./programming/functions.html">Main chapter</a></strong></p>
<p>Functions are <em>much</em> more powerful than aliases, and allow you to create custom
commands with arbitrarily complex behavior!</p>
<pre><code>def func : x do
  echo hello world
  if x &gt; 3 then
    echo greater than 3!
  else
    echo less than or equal to 3!
  end
end
</code></pre>
<p>This function uses <a href="using/./programming/conditions.html">conditionals</a>, and takes in an
argument.</p>
<pre><code>$ func 10
hello world
greater than 3!
$ func 1
hello world
less than or equal to 3!
</code></pre>
<p>For more details on the nuances of functions in <code>wsh</code>, see the
<a href="using/./programming/functions.html">Functions</a> chapter.</p>
<blockquote>
<p>Note: Functions <strong>must</strong> be declared at the top level of your program. This,
for example, is not allowed by the parser:</p>
<pre><code>if true then
  def func do
    echo hi
  end
end
</code></pre>
<p>Aliases, however, <strong>can</strong> be declared conditionally.</p>
</blockquote>
<h2 id="environment-variables"><a class="header" href="#environment-variables">Environment variables</a></h2>
<p><strong><a href="using/./environment.html">Main chapter</a></strong></p>
<p>You can set environment variables using the <code>export</code> keyword. This will allow
all spawned subprocesses read the variable.</p>
<pre><code>export HELLO = this is the value
</code></pre>
<p>In the shell,</p>
<pre><code>$ echo $HELLO
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="built-ins"><a class="header" href="#built-ins">Built-ins</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="posix-migration"><a class="header" href="#posix-migration">POSIX Migration</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-status"><a class="header" href="#project-status">Project Status</a></h1>
<p>This project is not finished yet! Mainly, there are a few POSIX-shell features
that aren't supported in <code>wsh</code> at this point. There are also many things that
are still under consideration, so <strong>do not</strong> expect the language to be stable.
Some syntax hasn't been completely decided on yet, but most semantics <em>should</em>
stay the same.</p>
<p>That being said, this project aims to be as polished as possible, so the
<a href="./using/webassembly/index.html">WebAssembly features</a> and the language
implementation should be sound.</p>
<h2 id="planned-features"><a class="header" href="#planned-features">Planned Features</a></h2>
<p>Here are some things that are planned, but haven't landed yet:</p>
<ul>
<li>Process substitution</li>
<li>Windows <code>&gt;&gt;</code> (append <a href="./using/running-commands.html#redirection">redirection</a>)
support</li>
<li>Collection data structures (lists, maps)</li>
<li>For loops</li>
<li>Job control</li>
<li>Signal handling</li>
<li>Completion scripts</li>
</ul>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>If you'd like to help out with implementing any of these features, feel free to
fork the <a href="https://github.com/dzfrias/wsh">repository</a> and send in a PR!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
